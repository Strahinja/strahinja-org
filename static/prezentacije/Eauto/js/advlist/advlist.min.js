(function(d){d.advlist=function(g,h){var n={alwaysVisible:!1,dataCreate:function(a){return null},dataCreateParam:void 0,dataFormat:m,dataFormatParam:void 0,onAfterDataCreate:function(a){},onAfterDataCreateParam:void 0,onAfterDataFormat:function(a){},onAfterDataFormatParam:void 0,onClick:function(a,f,c,e,d){},onClickParam:void 0,onMouseOver:function(a,f,c,e,d){},onMouseParam:void 0,onMouseOut:function(a,f,c,e,d){},onMouseOutParam:void 0,slimScrollShowSpeed:"fast",slimScrollHideSpeed:"fast",width:"30em",
height:"20em",itemHeight:"1em"},a=this;a.settings={};var e=d(g);a.init=function(){a.settings=d.extend({},n,h);a.setData(a.settings.dataCreate.call(this,a.settings.dataCreateParam));a.setWidth(a.settings.width);a.setHeight(a.settings.height);a.setItemHeight(a.settings.itemHeight);k()};a.getData=function(){return a.listData};a.setData=function(b){a.listData=b;return a};a.getItem=function(b){return a.listData[b]};a.setItem=function(b,f){delete a.listData[b];a.listData[b]=f};a.getListItem=function(a){return e.find("li").eq(a)};
a.setDataCreate=function(b){a.settings.dataCreate=b;return a};a.setDataFormat=function(b){a.settings.dataFormat=b;return a};a.setOnAfterDataCreate=function(b){a.settings.onAfterDataCreate=b;return a};a.setOnAfterDataFormat=function(b){a.settings.onAfterDataFormat=b;return a};a.setOnClick=function(b){a.settings.onClick=b;return a};a.setOnMouseOver=function(b){a.settings.onMouseOver=b;return a};a.setOnMouseOut=function(b){a.settings.onMouseOut=b;return a};a.getWidth=function(){return a.settings.width};
a.setWidth=function(b){a.settings.width=b;e.css({width:b});l();return a};a.getHeight=function(){return a.settings.height};a.setHeight=function(b,f){e.scrollTop();f="undefined"!==typeof f?f:!1;a.settings.height=b;e.css({height:b});l({height:b,forceOverPanel:f});return a};a.getItemHeight=function(){return a.settings.itemHeight};a.setItemHeight=function(b){a.settings.itemHeight=b;k();return a};a.refresh=function(){a.setData(a.settings.dataCreate.call(this,a.settings.dataCreateParam));a.settings.onAfterDataCreate.call(a.settings.onAfterDataCreateParam);
k();return a};a.redraw=function(){k();return a};a.getScrollTop=function(){return e.scrollTop()};a.scrollTo=function(a){e.slimScroll({scrollTo:a})};a.hideScrollBar=function(){e.slimScroll({hideBar:!0})};a.forceOverPanel=function(){e.slimScroll({forceOverPanel:!0})};a.getVisibleItems=function(){for(var b=[],f=0,c=a.getListItem(0).outerHeight(),d=e.scrollTop(),g=e.height();f<a.listData.length;){if(d<=f*c&&parseInt(d)+parseInt(g)+15>=(f+1)*c)b.push(f);else if(parseInt(d)+parseInt(g)+15<(f+1)*c)break;
f++}return b};var l=function(b){b="undefined"!==typeof b?b:{};e.slimScroll(d.extend(b,{alwaysVisible:a.settings.alwaysVisible,width:a.settings.width,height:a.settings.height,showSpeed:a.settings.slimScrollShowSpeed,hideSpeed:a.settings.slimScrollHideSpeed}));e.parent()},k=function(){if(null!=a.listData){e.empty();var b="",b=b+"<ul>\n";d.each(a.listData,function(f,c){b+="<li>"+a.settings.dataFormat.call(a,c,f,a.settings.dataFormatParam)+"</li>\n"});b+="</ul>\n";e.html(b);a.settings.onAfterDataFormat.call(a.settings.onAfterDataFormatParam);
e.off("click","li").on("click","li",function(b){var c=d(b.target);"li"!=c.prop("tagName").toLowerCase()&&(c=c.closest("li"));var g=c.index();e.find("li").removeClass("active");c.addClass("active");return a.settings.onClick.call(a,a.listData[g],g,b,b.target,a.settings.onClickParam)}).on("mouseover","li",function(b){var c=d(b.target);"li"!=c.prop("tagName").toLowerCase()&&(c=c.closest("li"));var g=c.index();e.find("li").removeClass("hovered");c.addClass("hovered");a.settings.onMouseOver.call(a,a.listData[g],
g,b,b.target,a.settings.onMouseOverParam);return!0}).on("mouseout","li",function(b){var c=d(b.target);"li"!=c.prop("tagName").toLowerCase()&&(c=c.closest("li"));c=c.index();e.find("li").removeClass("hovered");a.settings.onMouseOut.call(a,a.listData[c],c,b,b.target,a.settings.onMouseOutParam);return!0});l()}};a.init()};var m=function(d,h){return d};d.fn.advlist=function(g){return this.each(function(){if(void 0==d(this).data("advlist")){var h=new d.advlist(this,g);d(this).data("advlist",h)}})}})(jQuery);
